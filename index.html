<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman Game</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        #word {
            font-size: 2em;
            letter-spacing: 0.5em;
        }
        #wrong-letters {
            margin-top: 20px;
            color: red;
        }
        .keyboard {
            margin-top: 20px;
        }
        .keyboard button {
            font-size: 1em;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }
        canvas {
            border: 1px solid #333;
            margin-top: 20px;
        }
        #input-word-container {
            margin-top: 20px;
            display: none;
        }
        #input-word-container input {
            font-size: 1em;
            padding: 5px;
        }
        #input-word-container button {
            font-size: 1em;
            padding: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Hangman Game</h1>
    <div>
        <button id="random-word-mode">Random Word Mode</button>
        <button id="input-word-mode">Input Word Mode</button>
    </div>
    <div id="input-word-container">
        <input type="text" id="input-word" placeholder="Enter your word">
        <button id="start-game">Start Game</button>
    </div>
    <div id="game-container" style="display: none;">
        <canvas id="hangman" width="200" height="200"></canvas>
        <div id="word">_ _ _ _ _</div>
        <div id="wrong-letters"></div>
        <div class="keyboard">
            <button>A</button>
            <button>B</button>
            <button>C</button>
            <button>D</button>
            <button>E</button>
            <button>F</button>
            <button>G</button>
            <button>H</button>
            <button>I</button>
            <button>J</button>
            <button>K</button>
            <button>L</button>
            <button>M</button>
            <button>N</button>
            <button>O</button>
            <button>P</button>
            <button>Q</button>
            <button>R</button>
            <button>S</button>
            <button>T</button>
            <button>U</button>
            <button>V</button>
            <button>W</button>
            <button>X</button>
            <button>Y</button>
            <button>Z</button>
        </div>
    </div>
    <script>
        const wordElement = document.getElementById('word');
        const wrongLettersElement = document.getElementById('wrong-letters');
        const keyboardButtons = document.querySelectorAll('.keyboard button');
        const canvas = document.getElementById('hangman');
        const ctx = canvas.getContext('2d');
        const randomWordModeButton = document.getElementById('random-word-mode');
        const inputWordModeButton = document.getElementById('input-word-mode');
        const inputWordContainer = document.getElementById('input-word-container');
        const inputWord = document.getElementById('input-word');
        const startGameButton = document.getElementById('start-game');
        const gameContainer = document.getElementById('game-container');

        const words = ['javascript', 'hangman', 'developer', 'coding', 'python'];
        let selectedWord = '';
        let correctLetters = [];
        let wrongLetters = [];
        let mistakes = 0;

        const hangmanParts = [
            () => { ctx.moveTo(100, 100); ctx.lineTo(80, 130); ctx.stroke(); }, // Left Leg
            () => { ctx.moveTo(100, 100); ctx.lineTo(120, 130); ctx.stroke(); }, // Right Leg
            () => { ctx.moveTo(100, 60); ctx.lineTo(100, 100); ctx.stroke(); }, // Body
            () => { ctx.moveTo(100, 70); ctx.lineTo(80, 90); ctx.stroke(); }, // Left Arm
            () => { ctx.moveTo(100, 70); ctx.lineTo(120, 90); ctx.stroke(); }, // Right Arm
            () => { ctx.beginPath(); ctx.arc(100, 50, 10, 0, Math.PI * 2); ctx.stroke(); }, // Head
            () => { ctx.moveTo(100, 20); ctx.lineTo(100, 40); ctx.stroke(); ctx.moveTo(100, 20); ctx.lineTo(80, 40); ctx.stroke(); ctx.moveTo(100, 20); ctx.lineTo(120, 40); ctx.stroke(); }, // Upper Gallow
            () => { ctx.moveTo(100, 40); ctx.lineTo(100, 50); ctx.stroke(); ctx.moveTo(100, 40); ctx.lineTo(80, 60); ctx.stroke(); ctx.moveTo(100, 40); ctx.lineTo(120, 60); ctx.stroke(); }, // Lower Gallow with Noose
        ];

        function displayWord() {
            wordElement.innerHTML = selectedWord
                .split('')
                .map(letter => (correctLetters.includes(letter) ? letter : '_'))
                .join(' ');
        }

        function updateWrongLetters() {
            wrongLettersElement.textContent = wrongLetters.join(' ');
            if (mistakes < hangmanParts.length) {
                hangmanParts[mistakes]();
            } else {
                alert('Game Over! The word was: ' + selectedWord);
                resetGame();
            }
        }

        function handleGuess(letter) {
            if (selectedWord.includes(letter)) {
                if (!correctLetters.includes(letter)) {
                    correctLetters.push(letter);
                }
            } else {
                if (!wrongLetters.includes(letter)) {
                    wrongLetters.push(letter);
                    mistakes++;
                }
            }

            displayWord();
            updateWrongLetters();

            if (selectedWord.split('').every(letter => correctLetters.includes(letter))) {
                alert('Congratulations! You won!');
                resetGame();
            }
        }

        function resetGame() {
            correctLetters = [];
            wrongLetters = [];
            mistakes = 0;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            keyboardButtons.forEach(button => {
                button.disabled = false;
                button.classList.remove('used');
            });
            gameContainer.style.display = 'none';
            inputWordContainer.style.display = 'none';
        }

        randomWordModeButton.addEventListener('click', () => {
            selectedWord = words[Math.floor(Math.random() * words.length)].toUpperCase();
            startGame();
        });

        inputWordModeButton.addEventListener('click', () => {
            inputWordContainer.style.display = 'block';
        });

        startGameButton.addEventListener('click', () => {
            selectedWord = inputWord.value.toUpperCase();
            inputWordContainer.style.display = 'none';
            startGame();
        });

        function startGame() {
            gameContainer.style.display = 'block';
            displayWord();
        }

        keyboardButtons.forEach(button => {
            button.addEventListener('click', () => {
                const letter = button.textContent;
                handleGuess(letter);
                button.disabled = true;
                button.classList.add('used');
            });
        });
    </script>
</body>
</html>

