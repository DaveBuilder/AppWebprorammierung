<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Game</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        #game-board {
            display: grid;
            grid-template-columns: repeat(5, 40px);
            gap: 5px;
            margin-bottom: 20px;
        }
        .tile {
            width: 40px;
            height: 40px;
            border: 1px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            background-color: white;
        }
        .correct {
            background-color: green;
            color: white;
        }
        .present {
            background-color: yellow;
            color: black;
        }
        .absent {
            background-color: gray;
            color: white;
        }
        .keyboard {
            display: grid;
            grid-template-columns: repeat(10, 40px);
            gap: 5px;
            margin-top: 20px;
        }
        .keyboard button {
            width: 40px;
            height: 40px;
            font-size: 1em;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Wordle Game</h1>
    <div id="game-board"></div>
    <div class="keyboard">
        <button>A</button>
        <button>B</button>
        <button>C</button>
        <button>D</button>
        <button>E</button>
        <button>F</button>
        <button>G</button>
        <button>H</button>
        <button>I</button>
        <button>J</button>
        <button>K</button>
        <button>L</button>
        <button>M</button>
        <button>N</button>
        <button>O</button>
        <button>P</button>
        <button>Q</button>
        <button>R</button>
        <button>S</button>
        <button>T</button>
        <button>U</button>
        <button>V</button>
        <button>W</button>
        <button>X</button>
        <button>Y</button>
        <button>Z</button>
    </div>
    <script>
        const words = ['apple', 'bread', 'crane', 'drape', 'eagle']; // You can expand this word list
        const selectedWord = words[Math.floor(Math.random() * words.length)].toUpperCase();
        const gameBoard = document.getElementById('game-board');
        const keyboardButtons = document.querySelectorAll('.keyboard button');

        let currentRow = 0;
        let currentTile = 0;
        const rows = 6;
        const cols = 5;

        function createBoard() {
            for (let i = 0; i < rows * cols; i++) {
                const tile = document.createElement('div');
                tile.classList.add('tile');
                gameBoard.appendChild(tile);
            }
        }

        function getCurrentRowTiles() {
            return [...gameBoard.children].slice(currentRow * cols, (currentRow + 1) * cols);
        }

        function updateTileStatus() {
            const currentTiles = getCurrentRowTiles();
            const guess = currentTiles.map(tile => tile.textContent).join('');

            for (let i = 0; i < cols; i++) {
                if (guess[i] === selectedWord[i]) {
                    currentTiles[i].classList.add('correct');
                } else if (selectedWord.includes(guess[i])) {
                    currentTiles[i].classList.add('present');
                } else {
                    currentTiles[i].classList.add('absent');
                }
            }

            if (guess === selectedWord) {
                alert('Congratulations! You guessed the word!');
                resetGame();
            } else if (currentRow === rows - 1) {
                alert('Game Over! The word was: ' + selectedWord);
                resetGame();
            } else {
                currentRow++;
                currentTile = 0;
            }
        }

        function handleKeyClick(letter) {
            const currentTiles = getCurrentRowTiles();
            if (currentTile < cols) {
                currentTiles[currentTile].textContent = letter;
                currentTile++;
            }
        }

        function handleEnter() {
            if (currentTile === cols) {
                updateTileStatus();
            } else {
                alert('Please fill all the tiles.');
            }
        }

        function handleDelete() {
            if (currentTile > 0) {
                currentTile--;
                const currentTiles = getCurrentRowTiles();
                currentTiles[currentTile].textContent = '';
            }
        }

        function resetGame() {
            currentRow = 0;
            currentTile = 0;
            gameBoard.innerHTML = '';
            createBoard();
        }

        keyboardButtons.forEach(button => {
            button.addEventListener('click', () => {
                const letter = button.textContent;
                handleKeyClick(letter);
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                handleEnter();
            } else if (e.key === 'Backspace') {
                handleDelete();
            } else if (/^[a-zA-Z]$/.test(e.key)) {
                handleKeyClick(e.key.toUpperCase());
            }
        });

        createBoard();
    </script>
</body>
</html>
